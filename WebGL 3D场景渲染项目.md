# **WebGL 3D场景渲染项目**

### **项目简介**

这是一个基于WebGL 2.0的3D图形渲染项目，实现了光栅化场景渲染着色，包含完整的Phong着色模型、阴影映射、纹理贴图和透明度效果。该项目是计算机图形学课程的作业项目，展示了现代实时渲染的核心技术。



### **功能特性**



##### 核心功能

* Phong着色模型 - 完整的环境光、漫反射、镜面反射计算
* 阴影映射 - 基于深度贴图的动态阴影，支持PCF软阴影
* 纹理贴图 - 2D纹理和立方体贴图（天空盒）
* 透明度效果 - 可调节的半透明立方体渲染
* 交互控制 - 完整的键盘和鼠标交互系统



##### 高级特性

* 点光源与平行光切换
* 相机自由移动和旋转
* 光源位置动态调整
* 实时投影参数控制
* 多对象渲染（天空盒、地面、立方体、光源）



### **运行要求**

* 支持WebGL 2.0的现代浏览器（Chrome、Firefox、Edge等）
* 本地Web服务器（用于加载纹理文件）



### **运行方法**

* 使用本地Web服务器（如使用VS Code的Live Server，或Python的http.server）
* 访问GitHub的链接



### **操作说明**



##### 键盘控制

###### 

###### 光源控制

* C - 切换为点光源
* V - 切换为平行光
* Y/U - 增加/减少光源距离
* W/S - 光源绕X轴旋转
* A/D - 光源绕Y轴旋转



###### 相机控制

* I/K - 相机上下移动
* J/L - 相机左右移动
* ,/. (逗号/句号) - 相机前进/后退
* M/N - 增加/减小投影视角



###### 透明度控制

* T - 增加透明度（立方体更不透明）
* G - 减少透明度（立方体更透明）



###### 其他

* 空格 - 重置所有参数
* 鼠标左键拖拽 - 旋转相机
* 鼠标中键拖拽 - 平移场景
* 鼠标右键拖拽 - 缩放相机

### 

### 技术实现

##### 渲染管线

* 深度贴图阶段 - 从光源视角渲染场景深度
* 主渲染阶段 - 依次渲染天空盒、地面、半透明立方体、光源
* 阴影计算 - 在主渲染阶段进行深度比较，生成阴影



##### 关键技术

* WebGL 2.0 API - 使用现代WebGL特性
* 帧缓冲对象 - 用于深度贴图渲染
* 立方体贴图 - 用于天空盒渲染
* 混合功能 - 实现半透明效果
* 深度测试 - 确保正确的遮挡关系



##### 已完成的核心功能

在原始框架基础上，已完成以下三个关键部分：



1. 纹理对象创建（configTexture.js）
2. 实现了configureTexture()函数
3. 正确加载2D纹理并设置纹理参数
4. Phong着色计算（shaders/box.frag）
5. 实现了环境光、漫反射和镜面反射计算
6. 使用半角向量提高计算效率
7. 阴影计算（shaders/box.frag）
8. 实现了完整的阴影映射算法
9. 包含透视除法、深度比较、PCF滤波
10. 添加了偏移量避免阴影失真



##### 新增功能

透明度控制变量和交互





